<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Creating URLs • JBrowseR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Creating URLs">
<meta property="og:description" content="JBrowseR">
<meta property="og:image" content="https://elliothershberg.github.io/JBrowseR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">JBrowseR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.10.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/JBrowseR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/creating-urls.html">Creating URLs</a>
    </li>
    <li>
      <a href="../articles/custom-browser-tutorial.html">Custom browser tutorial</a>
    </li>
    <li>
      <a href="../articles/json-tutorial.html">Advanced JSON tutorial</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/GMOD/JBrowseR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Creating URLs</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/GMOD/JBrowseR/blob/HEAD/vignettes/creating-urls.Rmd" class="external-link"><code>vignettes/creating-urls.Rmd</code></a></small>
      <div class="hidden name"><code>creating-urls.Rmd</code></div>

    </div>

    
    
<p>All JBrowseR functions that accept data require the data to be in the
form of a URL. This is because static resources in Shiny apps don’t
support all of the features need by JBrowse 2. However, no matter what,
in genomics the data size nearly always prohibits directly including
data as a static resource.</p>
<p>There are two key scenarios to consider for creating URLs that can be
used with JBrowseR:</p>
<ol style="list-style-type: decimal">
<li>Using local data on your computer in the browser</li>
<li>Hosting data for a production deployment of a Shiny app</li>
</ol>
<p>We will look at both of these in this guide.</p>
<div class="section level2">
<h2 id="using-local-data">Using local data<a class="anchor" aria-label="anchor" href="#using-local-data"></a>
</h2>
<p>It is very convenient to be able view local data on your computer in
JBrowseR without having to worry about hosting it somewhere. JBrowseR
includes a small HTTP server that makes this process very simple:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_server</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/serve_data.html">serve_data</a></span><span class="op">(</span><span class="st">"~/path/to/my-data"</span><span class="op">)</span></span></code></pre></div>
<p>This function creates and starts the server. It also logs information
such as the URLs for any genomic data files that it detects. While this
server is running in your R session, any of the URLs can be used as
arguments to JBrowseR functions.</p>
<p>To stop the server, simply run:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_server</span><span class="op">$</span><span class="fu">stop_server</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>While this server is very convenient, it is not intended for
production use. Shiny apps deployed using <a href="https://www.shinyapps.io/" class="external-link">shinyapps.io</a> would not be able to
use the URLs.</p>
</div>
<div class="section level2">
<h2 id="hosting-options">Hosting options<a class="anchor" aria-label="anchor" href="#hosting-options"></a>
</h2>
<p>If you want to deploy an app that uses JBrowseR, you will need to
host your data in a way that is accessible to the browser. On the
JBrowse 2 team, we host our data using <a href="https://aws.amazon.com/s3/" class="external-link">Amazon S3</a>. Each item in an S3
bucket has its own URL. Another alternative is to host your data using
your own web server such as <a href="https://httpd.apache.org/" class="external-link">Apache</a>.</p>
<p>Whichever option works best for your project, there are some
configuration requirements that need to be kept in mind. HTTP servers
must support HTTP <code>Range</code> requests, and <code>CORS</code>.
Range requests are necessary because JBrowse 2 and other genome browsers
using <a href="https://en.wikipedia.org/wiki/Byte_serving" class="external-link">byte
serving</a> to fetch only small chunks of data necessary to render what
is currently in view. CORS needs to be enabled because the request is
coming from the host where the browser is running, not where the data is
located.</p>
<p>Here is an example CORS configuration for an S3 bucket:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>[</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"AllowedHeaders"</span><span class="op">:</span> [</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">"*"</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        ]<span class="op">,</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"AllowedMethods"</span><span class="op">:</span> [</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"GET"</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        ]<span class="op">,</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"AllowedOrigins"</span><span class="op">:</span> [</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">"*"</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        ]<span class="op">,</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"ExposeHeaders"</span><span class="op">:</span> [</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Accept-Ranges"</span><span class="op">,</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Content-Range"</span><span class="op">,</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Content-Encoding"</span><span class="op">,</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Content-Length"</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>        ]<span class="op">,</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">"MaxAgeSeconds"</span><span class="op">:</span> <span class="dv">3000</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div>
<p>One other note is that if you use S3 and are planning on using <a href="https://www.shinyapps.io/" class="external-link">shinyapps.io</a> to deploy your app,
you should locate your bucket in Amazon’s AWS US-East region. Currently,
<a href="https://www.shinyapps.io/" class="external-link">shinyapps.io</a> is hosted entirely
in that region. You can expect faster performance with your data hosted
in the same location and service as your app!</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Elliot Hershberg, Colin Diesh, the JBrowse 2 Team.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
